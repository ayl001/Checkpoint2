
6
Yves Lambert
Logo Wild Code School
ASRC : Checkpoint 2
Checkpoint TSSR
1 formateur
ASRC : Checkpoint 2

image

Comme pour le premier checkpoint, celui-ci est un point d'√©tape. Il a pour principal objectif de te permettre de v√©rifier si tu as bien assimil√© les comp√©tences vues jusqu'√† pr√©sent.
Il n'y a pas de surprises, les notions abord√©es sont celles vues dans les semaines qui viennent de s'√©couler.
C'est un exercice individuel, Mais tu as bien s√ªr le droit de te r√©f√©rer aux qu√™tes que tu as d√©j√† effectu√©es et √† la documentation (Internet).
Tu devrais √™tre en mesure de le finir dans le temps imparti. Plus tu as des automatismes, plus tu iras vite. Mais comme dans la vraie vie, on ne connait pas tout par c≈ìur.
N√©anmoins, il ne s'agit pas d'un examen. Si tu n'as pas fini au bout de la dur√©e impartie, ne t'inqui√®te pas, tu es fortement invit√© √† retravailler le checkpoint par la suite afin de r√©ussir √† valider les comp√©tences. L'essentiel est que tu comprennes et sois capable de mettre en application les notions abord√©es, si tu n'as pas encore la rapidit√©, cela viendra en t'exer√ßant.
Ton formateur va t'aider dans cette √©valuation en examinant le travail que as fourni et en validant la qu√™te le cas √©ch√©ant.
Si tu n'as pas tout fini dans les d√©lais, tu ajouteras simplement un commentaire # Effectu√© en dehors du timing, pour l'indiquer √† ton formateur. √áa lui permettra de bien comprendre les forces et faiblesses de chacun, et de s'adapter.
üìù Objectifs

‚úÖ R√©aliser les 3 exercices du challenge
‚úÖ Valider les comp√©tences acquises durant ces derni√®res semaines de formations

Sommaire

    ü§ì Contexte de ce checkpoint
    üíª Outils mis √† disposition
    üí™ Challenge
        Exercice 1 : Modification IP client serveur (temps estim√© : 45 min)
            a. Contexte
            b. Pratique
        Exercice 2 : D√©bogage de script PowerShell (temps estim√© : 1h30)
            a. Contexte
            b. Pratique
        Exercice 3 : V√©rification d'une infrastructure r√©seau (temps estim√© : 1h45 min)
            a. Contexte
            b. D√©couverte du r√©seau
            c. Etude th√©orique
            d. Analyse de trames
    üßê Crit√®res d'acceptation

ü§ì Contexte de ce checkpoint

Tu travailles dans le service SI de la soci√©t√© SweetCakes.
Tu dois reprendre le travail de l'un de tes coll√®gues absent.
L'exercice 2 et √† faire apr√®s le 1. L'exercice 3 peut √™tre fait n'importe quand.
üíª Outils mis √† disposition

Tu as 2 VM que tu trouveras ici.
Il faut les importer dans Virtualbox.

Voici leurs caract√©ristiques :

PC Serveur :

    Nom de la VM dans VirtualBox : Checkpoint2-SRVWIN2022
    Nom : WINSERV
    OS : Windows Server 2022
    RAM : 8 Go
    Processeurs : 2
    Compte d'administration : Administrator / P@ssw0rdAdmin$!2023
    R√¥les install√©s : DHCP, DNS
    Adresse IP : 172.16.10.10 /24

PC Client :

    Nom de la VM dans VirtualBox : Checkpoint2-CLIWIN10
    Nom : CLIENT1
    OS : Windows 10
    RAM : 4 Go
    Processeurs : 2
    Compte d'administration : Administrateur / P@ssw0rdAdminC!2023
    Compte utilisateur : Wilder / P@ssw0rdUserC!2023
    Adresse IP : 172.16.100.50/24

üí™ Challenge
Exercice 1 : Modification IP client serveur (temps estim√© : 45 min)
a. Contexte

Tu as 2 ordinateurs, un client et un serveur qui ne communiquent pas.
Le but est de faire communiquer les 2 machines entre elle.
b. Pratique

D√©marre les 2 VM.
Fais les actions demand√©es et r√©ponds aux questions. Lorsque cela est demand√©, inclus une ou plusieurs copies d'√©cran.

Les questions se suivent et doivent √™tre faites dans l'ordre

Q.1.1 Pourquoi le ping avec les adresses IP des machines ne fonctionnent pas ?
Modifie la configuration sur le client pour que cela soit possible.
Explique ce que tu as fait et montre le par des copies d'√©cran.
On doit avoir la copie d'√©cran d'un ping fonctionnel.

Pour cette question, les VM doivent rester en IP statiques, elles ne doivent pas √™tre en DHCP.

Q.1.2 Le ping avec le nom des machines ne fonctionne pas.
Modifie la configuration sur le client et/ou le serveur pour que cela soit possible et qu'un ping entre les 2 machines fonctionne avec le nom.
Explique ce que tu as fait et montre le par des copies d'√©cran.
On doit avoir la copie d'√©cran d'un ping fonctionnel.

Q.1.3 Modifie la configuration r√©seau du client pour qu'il soit en DHCP.
V√©rifie le param√©trage DHCP sur le serveur et compare le avec l'adresse IP du client.
Explique pourquoi le client ne r√©cup√®re pas la 1√®re adresse disponible sur la plage DHCP du serveur ?
Fais une copie d'√©cran montrant l'adresse IP prise par le client.

Q.1.4 Est-ce que ce client peut avoir l'adresse IP 172.16.10.15 en DHCP ?
Si oui fais les manipulations n√©cessaires.
Explique ce que tu as fait et montre par une copie d'√©cran le r√©sultat de la commande ipconfig /all sur le client.
Exercice 2 : D√©bogage de script PowerShell (temps estim√© : 1h30)
a. Contexte

Le service des Ressources Humaines a demand√© au SI un processus automatis√© pour la cr√©ation des utilisateurs locaux sur les ordinateurs √† partir d'une liste extraite du logiciel RH.

Ce processus utilise 2 scripts. Voici son fonctionnement :

    On se connecte avec un compte local sur un ordinateur client
    On ex√©cute le script Main.ps1.
    Ce script lance avec des privil√®ges √©lev√©s le script AddLocalUsers.ps1
    Ce dernier va lire une liste d'utilisateurs contenue dans le fichier Users.csv
    Chaque utilisateur du fichier est test√© pour savoir s'il existe d√©j√† sur la machine locale.
    Si c'est le cas, le script ne fait rien, sinon il le cr√©er et le met dans le groupe local des utilisateurs de la machine.

Malheureusement, ce script dysfonctionne !
A partir des remarques ci-dessous, remont√©es par les premiers utilisateurs, corrige le script.
b. Pratique

Copie les fichiers du dossier c:\Scripts du serveur vers le dossier c:\Scripts du client.

Si tes 2 machines ne communiquent pas, tu as dans le dossier c:\Scripts du client un fichier zip chiffr√© qui contient les fichiers n√©cessaires.
Demande √† ton formateur le mot de passe de ce fichier.

Tu as donc maintenant sur le client, dans le dossier C:\Scripts les fichiers suivant :

    AddLocalUsers.ps1
    Main.ps1
    Users.csv

Corrections √† effectuer sur le script Main.ps1 :

Q.2.1 Lorsque l'on ex√©cute le script il y a une erreur et le script AddLocalUsers.ps1 ne s‚Äôex√©cute pas.
Corrige ce script pour que le script AddLocalUsers.ps1 s'√©xecute.

Corrections √† effectuer sur le script AddLocalUsers.ps1 :

Si tu 'arrives pas √† executer le script AddLocalUsers.ps1 √† partir du script Main.ps1 tu peux le lancer de cette fa√ßon :

    Ouvre une fen√™tre PowerShell en mode Administrateur
    Ouvre le script AddLocalUsers.ps1 dans cette fen√™tre

Q.2.2 Le premier utilisateur du fichier Users.csv n'est jamais pris en compte. Modifie le script pour que cela soit le cas.

Q.2.3 Le champs Descriptionest import√© du fichier mais non-utilis√©. Modifie le code pour que ce champs soit utilis√© dans la cr√©ation des utilisateurs.

Q.2.4 Dans l'importation des utilisateurs du fichier CSV, tous les champs sont pris. Or il n'y en a qu'une partie qui est utilis√© par la suite. Corrige pour qu'il n'y ait que les champs utilis√©s pour la cr√©ation des utilisateurs qui soient import√©s du fichier CSV.

Q.2.5 Le mot de passe cr√©e n'est pas affich√©, donc on ne le connait pas. Affiche le avec le message indiquant qu'un compte est cr√©e.

Q.2.6 Une fonction de cr√©ation de log, nomm√©e Log existe. Utilise l√† pour journaliser l'activit√© du script et les actions importantes du script.

Q.2.7 Si l'utilisateur √† cr√©er existe d√©j√†, il n'est pas cr√©e. Or cette information n'est pas affich√©e, donc on ne le sait pas. Modifie le code pour que cela s'affiche.

Q.2.8 L'ajout des utilisateurs dans le groupe des utilisateurs locaux ne fonctionne pas. Corrige le script pour que cela fonctionne.

Q.2.9 Plusieurs fois dans le code du scrip, la chaine "$Prenom.$Nom" est utilis√©e. Remplace cette cha√Æne par une variable $Name que tu initialise correctement.

Q.2.10 Les comptes utilisateurs cr√©er ont un mot de passe qui expire. Corrige cela pour qu'il n'expire pas.

Q.2.11 Modifie le code pour que le mot de passe soit constitu√© de 10 caract√®res au lieu de 6.
Exercice 3 : V√©rification d'une infrastructure r√©seau (temps estim√© : 1h45 min)
a. Contexte

V√©rifier que les configurations r√©seaux des mat√©riel sont correcte.
Pour cela, suivre et r√©pondre aux questions.
b. D√©couverte du r√©seau

Voici le sch√©ma du r√©seau :

sch√©ma d'un r√©seau avec 5 PC 1 switch et 2 routeurs

Informations sur les ordinateurs :
Mat√©riel	Adresse MAC	Adresse IP
PC1	00:50:79:66:68:00	10.10.4.1/16
PC2	00:50:79:66:68:A1	10.11.80.2/16
PC3	00:50:79:66:66:F3	10.10.80.3/16
PC4	00:50:79:66:68:03	10.10.4.2/16
PC5	00:50:79:66:68:12	10.10.4.7/15

Lorsque cela est possible, les ordinateurs ont l'adresse 10.10.255.254 d√©clar√©e en adresse IP de passerelle par d√©faut.

Informations sur les materiels B et R2 :
Mat√©riel	Interface	Adresse MAC	Adresse IP
B	f0/0	CA:01:DA:D2:00:08	10.10.255.254/16
B	g1/0	CA:01:DA:D2:00:1C	10.12.2.254/24
R2	g2/0	CA:03:9E:EF:00:38	10.12.2.253/24
R2	g3/0	CA:03:9E:EF:00:54	10.10.4.2/16

Dans ce r√©seau :

    Tous les mat√©riels sont allum√©s
    Toutes les adresses IP sont configur√©e
    Toutes les routes IP sont configur√©e

Q.3.1 Quel est le mat√©riel r√©seau A ?
Quel est son r√¥le sur ce sch√©ma vis-√†-vis des ordinateurs ?

Q.3.2 Quel est le mat√©riel r√©seau B ?
Quel est son r√¥le pour le r√©seau 10.10.0.0/16 ?

Q.3.3 Que signifie f0/0 et g1/0 sur l‚Äô√©l√©ment B ?

Q.3.4 Pour l'ordinateur PC2, que repr√©sente /16 dans son adresse IP ?

Q.3.5 Pour ce m√™me ordinateur, que repr√©sente l'adresse 10.10.255.254 ?
c. Etude th√©orique

Q.3.6 Pour les ordinateur PC1, PC2, et PC5 donne :

    L'adresse de r√©seau
    La premi√®re adresse disponible
    La derni√®re adresse disponible
    L'adresse de diffusion

Q.3.7 En t'aidant des informations que tu as fourni √† la question 3.6, et √† l'aide de tes connaissances, indique parmi tous les ordinateurs du sch√©ma, lesquels vont pouvoir communiquer entre-eux.

Q.3.8 De m√™me, indique ceux qui vont pouvoir atteindre le r√©seau 172.16.5.0/24.

Q.3.9 Quel incidence y-a-t'il pour les ordinateurs PC2 et PC3 si on interverti leur ports de connexion sur le mat√©riel A ?

Q.3.10 On souhaite mettre la configuration IP des ordinateurs en dynamique. Quelles sont les modifications possible ?
d. Analyse de trames

On a fait un enregistrement des trames entre certains ordinateurs du r√©seau.
R√©cup√®re les fichiers ci-dessous et ouvre les dans Wireshark.

    Fichier 1 : TSSRCheckpoint2_Capture1.pcap
    Fichier 2 : TSSRCheckpoint2_Capture2.pcap
    Fichier 3 : TSSRCheckpoint2_Capture3.pcap

Les 3 fichiers sont ind√©pendants et peuvent √™tre trait√© dans n'importe quel ordre.

Fichier 1 :

Q.3.11 Sur le paquet N¬∞5, quelle est l'adresse mac du mat√©riel qui initialise la communication ? D√©duis-en le nom du mat√©riel.

Q.3.12 Est-ce que la communication enregistr√©e dans cette capture a r√©ussi ? Si oui, indique entre quels mat√©riel, si non indique pourquoi cela n'a pas fonctionn√©.

Q.3.13 Dans cette capture, √† quel mat√©riel correspond le request et le reply ? Donne le nom, l'adresse IP, et l'adresse mac de chaque materiel.

Q.3.14 Dans le paquet N¬∞2, quel est le protocole encapsul√© ? Quel est son r√¥le ?

Q.3.15 Quels ont √©t√© les r√¥les des mat√©riels A et B dans cette communication ?

Fichier 2 :

Q.3.16 Dans cette trame, qui initialise la communication ? Donne l'adresse IP ainsi que le nom du mat√©riel.

Q.3.17 Quel est le protocole encapsul√© ? Quel est son r√¥le ?

Q.3.18 Est-ce que cette communication a r√©ussi ? Si oui, indique entre quels mat√©riel, si non indique pourquoi cela n'a pas fonctionn√©.

Q.3.19 Explique la ligne du paquet N¬∞ 2

Q.3.20 Quels ont √©t√© les r√¥les des mat√©riels A et B ?

Fichier 3 :

Q.3.21 Dans cette trame, donne les noms et les adresses IP des mat√©riels sources et destination.

Q.3.22 Quelles sont les adresses mac source et destination ? Qu'en d√©duis-tu ?

Q.3.23 A quel emplacement du r√©seau a √©t√© enregistr√© cette communication ?
üßê Crit√®res d'acceptation

Les 3 fichiers ci-dessous seront remis dans un lien git.

    Exercice 1 : fichier markdown Checkpoint2_Exercice1.md
    Ce fichier r√©dig√© sous format markdown contient l'ensemble des r√©ponses aux questions, ainsi que les copies d'√©cran.

    Exercice 2 : fichier de script PowerShell Checkpoint2_Exercice2.ps1
    Ce fichier contient le code du script corrig√©.

    Exercice 3 : fichier markdown Checkpoint2_Exercice3.md
    Ce fichier r√©dig√© sous format markdown contient l'ensemble des r√©ponses aux questions.

Lien vers la solution : *
‚Äã
Aide-nous √† nous am√©liorer en nous disant ce que tu as pens√© de cette qu√™te : *
0.5 Stars
1 Star
1.5 Stars
2 Stars
2.5 Stars
3 Stars
3.5 Stars
4 Stars
4.5 Stars
5 Stars
Empty
Laisse-nous un commentaire sur cette qu√™te :
‚Äã

